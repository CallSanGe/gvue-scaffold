(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{184:function(t,e,s){"use strict";s.r(e);var a={name:"Reset",data:function(){return{disableBtn:!1,formData:{email:"",sign:"",password:"",repassword:""}}},created:function(){var t=this.$route.query;"email"in t&&"sign"in t?(this.formData.email=t.email,this.formData.sign=t.sign):(this.$notify.error({title:"错误",message:"链接错误~请检查"}),this.disableBtn=!0)},methods:{handleSubmit:function(){var t=this;this.validateForm()&&this.$http.post("/password/reset",this.formData).then((function(e){"success"==e.message&&(t.$notify.success({title:"成功",message:"重置密码成功~即将跳转到登录..."}),setTimeout((function(){t.$notify.closeAll(),t.$router.push({path:"/login"})}),2e3))}))},validateForm:function(){var t=this.formData;return/^.+@.+$/.test(t.email)?t.password.length>15||t.password.length<6?(this.$notify.error({title:"错误",message:"密码长度应该为6-15个字符"}),!1):t.repassword==t.password||(this.$notify.error({title:"错误",message:"确认密码与密码不同"}),!1):(this.$notify.error({title:"错误",message:"邮箱格式错误"}),!1)}},components:{CopyRight:s(6).a}},o=s(1),r=Object(o.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"max-w-md mx-auto mb:pt-20 sm:pt-12"},[s("form",{staticClass:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},[s("div",{staticClass:"mb-4"},[t._m(0),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{placeholder:"请输入有效邮箱",id:"email",disabled:"",type:"email"},domProps:{value:t.formData.email},on:{input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"mb-4"},[t._m(1),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",attrs:{placeholder:"请输入6-15位密码",id:"password",type:"password"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"mb-6"},[t._m(2),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.repassword,expression:"formData.repassword"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",attrs:{placeholder:"请确认密码",id:"repassword",type:"password"},domProps:{value:t.formData.repassword},on:{input:function(e){e.target.composing||t.$set(t.formData,"repassword",e.target.value)}}})]),t._v(" "),s("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",attrs:{disabled:t.disableBtn,type:"button"},on:{click:t.handleSubmit}},[t._v("重置")])]),t._v(" "),s("CopyRight")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"email"}},[this._v("\n        邮箱\n        "),e("i",{staticClass:"text-red-500 mx-1"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[this._v("\n        密码\n        "),e("i",{staticClass:"text-red-500 mx-1"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[this._v("\n        确认密码\n        "),e("i",{staticClass:"text-red-500 mx-1"},[this._v("*")])])}],!1,null,null,null);e.default=r.exports},6:function(t,e,s){"use strict";var a={name:"CopyRight",data:function(){return{name:"guve scaffold"}}},o=s(1),r=Object(o.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("p",{staticClass:"text-center text-gray-500 text-xs"},[this._v("©2020 "+this._s(this.name)+". All rights reserved.")])}),[],!1,null,null,null);e.a=r.exports}}]);